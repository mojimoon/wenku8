document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("searchInput"),t=document.getElementById("novelTableBody").getElementsByTagName("tr"),n=document.getElementById("themeToggle"),d=document.getElementById("randomButton"),o=document.getElementById("clearInput"),a=document.body;e.addEventListener("input",(function(){const n=e.value.toLowerCase().trim();for(let e=0;e<t.length;e++){const d=t[e],o=d.getElementsByTagName("td")[0];if(o){o.textContent.toLowerCase().includes(n)?d.classList.remove("hidden"):d.classList.add("hidden")}}})),d.addEventListener("click",(function(){const n=Math.floor(Math.random()*t.length),d=t[n],o=d.getElementsByTagName("a")[0].textContent;e.value=o;for(let e=0;e<t.length;e++){const n=t[e];n===d?n.classList.remove("hidden"):n.classList.add("hidden")}}));"dark"===localStorage.getItem("theme")&&a.classList.add("dark-mode"),n.addEventListener("click",(function(){a.classList.toggle("dark-mode"),a.classList.contains("dark-mode")?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light")})),o.addEventListener("click",(function(){e.value="";for(let e=0;e<t.length;e++){t[e].classList.remove("hidden")}}))}));